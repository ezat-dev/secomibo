<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="alarm">

<!-- 전송 안한 알람 조회 -->
	<select id="getAlarmList" parameterType="alarm"
		resultType="alarm">
		SELECT * FROM tb_alarmlist
		WHERE is_send = '0';
	</select>
<!-- 알람 전송됨으로 업데이트 -->
	<update id="updateAlarmSend" parameterType="alarm">
		UPDATE tb_alarmlist
		SET is_send = '1'
		WHERE regtime = #{regtime}
	</update>
	<!-- 알람 전체 조회 -->
		<select id="allAlarmList" parameterType="alarm"
		resultType="alarm">
		SELECT * FROM tb_alarm
	</select>
	<!-- 알람 그룹 업데이트 -->
<update id="updateAlarmGroup" parameterType="alarm">
    UPDATE tb_alarm
    SET 
        ${fieldName} = #{newValue}
    WHERE
        alarm_address = #{alarm_address}
</update>
</mapper>